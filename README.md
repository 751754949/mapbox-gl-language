# Mapbox GL Language [![Build Status](https://travis-ci.org/mapbox/mapbox-gl-language.svg?branch=master)](https://travis-ci.org/mapbox/mapbox-gl-language) [![npm](https://img.shields.io/npm/v/@mapbox/mapbox-gl-language.svg)](https://www.npmjs.com/package/@mapbox/mapbox-gl-language)

Switch the language of your style in Mapbox GL JS.

## Usage

**mapbox-gl-language** is a [Mapbox GL JS plugin](https://www.mapbox.com/blog/build-mapbox-gl-js-plugins/) that you can easily add on top of your map. Check `index.html` for a complete example.

Make sure to include the JS files.

**When using NPM**

Check [how to use Mapbox GL JS in a module bundler](https://www.mapbox.com/mapbox-gl-js/api/).

```bash
npm install --save mapbox-gl @mapbox/mapbox-gl-browser-language
```

```javascript
const mapboxgl = require('mapbox-gl')
const MapboxBrowserLanguage = require('@mapbox/mapbox-gl-language');
const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/traffic-night-v2',
    center: [-77.0259, 38.9010],
    zoom: 9
});
map.addControl(new MapboxBrowserLanguage());
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### MapboxLanguage

Create a new [Mapbox GL JS plugin](https://www.mapbox.com/blog/build-mapbox-gl-js-plugins/) that
modifies the layers of the map style to use the 'text-field' that matches the browser language.

**Parameters**

-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options to configure the plugin.
    -   `options.supportedLanguages` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>?** List of supported languages
    -   `options.languageTransform` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** Custom style transformation to apply
    -   `options.languageField` **[RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)?** RegExp to match if a text-field is a language field (optional, default `/^\{name/`)
    -   `options.getLanguageField` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)?** Given a language choose the field in the vector tiles
    -   `options.languageSource` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Name of the source that contains the different languages.
    -   `options.defaultLanguage` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Name of the default language to initialize style after loading.

#### setLanguage

Explicitly change the language for a style.

**Parameters**

-   `style` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Mapbox GL style to modify
-   `language` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The language iso code

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** the modified style

## Develop

Run the linter and watch for changes to rebuild with browserify.

    npm install
    npm run test
    npm run watch

Create a minified standalone build.

    npm install
    npm run build

## Languages

Showcasing the languages supported by Mapbox Streets.

- [Your Browser language](https://mapbox.github.io/mapbox-gl-language/examples/browser.html)
- [English](https://mapbox.github.io/mapbox-gl-language/examples/en.html)
- [Arabic](https://mapbox.github.io/mapbox-gl-language/examples/ar.html)
- [French](https://mapbox.github.io/mapbox-gl-language/examples/fr.html)
- [Portuguese](https://mapbox.github.io/mapbox-gl-language/examples/pt.html)
- [German](https://mapbox.github.io/mapbox-gl-language/examples/de.html)
- [Spanish](https://mapbox.github.io/mapbox-gl-language/examples/es.html)
- [Russian](https://mapbox.github.io/mapbox-gl-language/examples/ru.html)
- [Chinese](https://mapbox.github.io/mapbox-gl-language/examples/zh.html)

## Supported Styles

You can configure the plugin to support your own very custom style using style transforms and custom language fields.
By default this plugin works best with official Mapbox styles (or styles derived from official Mapbox styles):

- `mapbox://mapbox-streets-v9`
- `mapbox://mapbox-outdoors-v9`
- `mapbox://mapbox-dark-v9`
- `mapbox://mapbox-light-v9`
- `mapbox://mapbox-satellite-streets-v9`
- `mapbox://mapbox-traffic-day-v9`
- `mapbox://mapbox-traffic-night-v9`
